<link href="{{ url_for('static', path='css/watch.css') }}" rel="stylesheet">
<script src="/static/watch.js"></script>


<table>
  <tr>
    <td>
<iframe width="1120" height="630" id="video" src="https://www.youtube.com/embed/{{ url }}?enablejsapi=1&html5=1&mute=1&controls=0" frameborder="0" allowfullscreen></iframe>
    </td>
    <td valign="top" width: 230px; style="word-wrap: break-word; hyphens: auto; color: white;">
      <ul  class="word" id='messages'>
      </ul>
    </td>
  </tr>
</table>
<div class="buttons">
  <!-- if we needed to change height/width we could use viewBox here -->
  <button class="button" id="play-button" style="width: 483px;">Start</button>
  <button class="button" id="pause-button" style="width: 483px; margin-left: 487px; margin-top: -40px;">Pause</button>
  <form action="" onsubmit="sendMessage(event)">
    <input class="button" type="text" id="messageText" placeholder="nickname" autocomplete="off" style="width: 150px; margin-left: 973px; margin-top: -40px;">
    <input class="button" type="login_text" placeholder="message" id="messageLogin" autocomplete="off" style="width:234px; margin-left: 1126px; margin-top: -40px;">

    <button class="button" style="width: 100px; margin-left: 1364px; margin-top: -40px;">&#9658;</button>
  </form>
</div>

  

<script>
  var ws = new WebSocket("ws://localhost:8000/ws");
  ws.onmessage = function(event) {
      var messages = document.getElementById('messages')
      var message = document.createElement('li')
      var content = document.createTextNode(event.data)
      message.appendChild(content)
      messages.appendChild(message)
  };
  function sendMessage(event) {
      var input = document.getElementById("messageText")
      var input_token = document.getElementById("messageLogin")
      ws.send(input.value+": "+input_token.value)
      input_token.value = ''
      event.preventDefault()
  }
</script>

  

